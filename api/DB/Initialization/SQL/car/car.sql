
CREATE TABLE cars (
    id INT(11) AUTO_INCREMENT PRIMARY KEY,
    ref VARCHAR(255) DEFAULT '' UNIQUE,
    brand INT NOT NULL,
    model INT NOT NULL,
    motor INT NOT NULL,
    price INT NOT NULL,
    kilometers INT NOT NULL,
    initial_registration DATE NOT NULL,
    description TEXT DEFAULT '',
    seller INT(11) NOT NULL,
    images INTEGER UNIQUE,
    createdBy INT(11) NOT NULL,
    deletedBy INT(11),
    createdAt DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
    updatedAt DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (seller) REFERENCES car_seller(id) ON DELETE CASCADE,
    FOREIGN KEY (brand) REFERENCES car_brand(id) ON DELETE NO ACTION,
    FOREIGN KEY (model) REFERENCES car_model(id) ON DELETE NO ACTION,
    FOREIGN KEY (motor) REFERENCES car_motor(id) ON DELETE NO ACTION,
    FOREIGN KEY (images) REFERENCES car_images(id) ON DELETE CASCADE,
    FOREIGN KEY (createdBy) REFERENCES user(id) ON UPDATE CASCADE ON DELETE NO ACTION,
    FOREIGN KEY (deletedBy) REFERENCES user(id) ON UPDATE CASCADE ON DELETE NO ACTION
);